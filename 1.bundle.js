(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1:function(t,e,r){"use strict";r.r(e);var n=r(10),a=r(20),s=r.n(a),o=r(96);function i(){let t,e,r;for(;t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),r=Math.floor(256*Math.random()),!(t+e+r<672););return`rgba(${t},${e},${r},0.5)`}var l=new class{constructor(){let t=o.g("body").append("svg"),e=s()("svg").width(),r=s()("svg").height(),n=t.append("g"),a=t.append("g"),l=t.append("g"),c=t.append("g"),h=12,d=Math.floor(12*r/e);r>e&&(h=Math.floor(12*e/r),d=12);let u,f=o.f().domain([0,e]).range([0,e]).nice(),p=o.f().domain([0,r]).range([r,0]).nice(),m=(t,e)=>t.attr("transform",`translate(0,${r})`).call(o.b(e).ticks(h)).call(t=>t.select(".domain").attr("display","none")),v=(t,e)=>t.attr("transform","translate(0,0)").call(o.a(e).ticks(Math.floor(d))).call(t=>t.select(".domain").attr("display","none")),g=(t,n,a)=>t.attr("stroke","currentColor").attr("stroke-opacity",.1).call(t=>t.selectAll(".x").data(n.ticks(h)).join(t=>t.append("line").attr("class","x").attr("y2",r),t=>t,t=>t.remove()).attr("x1",t=>n(t)).attr("x2",t=>n(t))).call(t=>t.selectAll(".y").data(a.ticks(d)).join(t=>t.append("line").attr("class","y").attr("x2",e),t=>t,t=>t.remove()).attr("y1",t=>a(t)).attr("y2",t=>a(t))),y=!1,w=(t,e)=>{if(this.drawing||"fixed"==this.mode)return;y=!0;let r=this.invertTransX(),n=this.invertTransY(),a=[r(e.x),n(e.y)];o.g(t).data([a]);let s=o.g(t.parentNode).selectAll("circle").data();o.g(t.parentNode).select("polygon").data([s]),this.applyTransform()};this.zoom=o.h().scaleExtent([.2,50]).on("zoom",({transform:t})=>{this.currentTransform=t,this.applyTransform();let e=t.rescaleX(f),r=t.rescaleY(p);l.call(m,e),c.call(v,r),n.call(g,e,r)}),this.pointDragger=o.c().on("drag",(function(t){w(this,t)})).on("end",()=>y=!1),t.on("mouseup",e=>{if(y||this.drawn||"draw"!=this.mode)return;this.drawing=!0;let r=this.invertTransX(),n=this.invertTransY(),a=o.e(e),s=[r(a[0]),n(a[1])];if(u=s,e.target.hasAttribute("is-handle")){if(this.currentDrawPoints.length<=2)return;this.canvas.select("g.drawing").remove(),this.drawPolygon(this.currentDrawPoints,{color:i(),vertexColor:"#FDBC07",fixed:!1}),this.currentDrawPoints=[],this.drawing=!1,this.drawn=!0}else{this.currentDrawPoints.push(s),t.select("g.drawing").remove(),this.drawPolygon(this.currentDrawPoints,{vertexColor:"yellow",close:!1}).attr("class","drawing")}}),t.on("mousemove",t=>{if(!this.drawing||"draw"!=this.mode)return;let e=this.invertTransX(),r=this.invertTransY(),n=o.e(t),a=[e(n[0]),r(n[1])],s=this.canvas.select("g.drawing");s.select("line").remove(),s.insert("line",":first-child").data([[u,a]]).attr("stroke","#53DBF3").attr("stroke-width",1),this.applyTransform()}),t.call(this.zoom),this.drawing=!1,this.drawn=!1,this.currentDrawPoints=[],this.mode="move",this.width=e,this.height=r,this.svg=t,this.canvas=a,this.currentTransform=o.i,this.xScale=f,this.yScale=p,this.autoScale([])}setMode(t){switch(t){case"move":this.mode=t,this.svg.call(this.zoom);break;case"draw":this.mode=t,this.removeShape("fixed"),this.removeShape("lines"),this.svg.on(".zoom",null);break;case"fixed":this.mode=t,this.drawing=!1,this.drawn=!1,this.currentDrawPoints=[],this.removeAllShapes(),this.svg.on(".zoom",null)}}transX(){return this.currentTransform.rescaleX(this.xScale)}transY(){return this.currentTransform.rescaleY(this.yScale)}invertTransX(){return this.currentTransform.rescaleX(this.xScale).invert}invertTransY(){return this.currentTransform.rescaleY(this.yScale).invert}applyTransform(){let t=this.transX(),e=this.transY();this.canvas.selectAll("circle").attr("cx",e=>t(e[0])).attr("cy",t=>e(t[1])),this.canvas.selectAll("line").attr("x1",e=>t(e[0][0])).attr("y1",t=>e(t[0][1])).attr("x2",e=>t(e[1][0])).attr("y2",t=>e(t[1][1])),this.canvas.selectAll("polygon").attr("points",r=>r.map(r=>[t(r[0]),e(r[1])])),this.canvas.selectAll("polyline").attr("points",r=>r.map(r=>[t(r[0]),e(r[1])]))}autoScale(t){let[e,r]=o.d(t,t=>t[0]),[n,a]=o.d(t,t=>t[1]);t.length||(e=r=n=a=0);let s=.8*Math.min(Math.abs(this.width/(this.xScale(r-e+1)-this.xScale(0))),Math.abs(this.height/(this.yScale(a-n+1)-this.yScale(0))));s=Math.min(Math.max(s,.2),50);let i=(this.width-(this.xScale(e)+this.xScale(r))*s)/2,l=(this.height-(this.yScale(a)+this.yScale(n))*s)/2;this.currentTransform=o.i.translate(i,l).scale(s),this.svg.call(this.zoom.transform,this.currentTransform)}removeAllShapes(){this.removeShape("polygon"),this.removeShape("lines"),this.removeShape("drawing")}removeShape(t){this.canvas.selectAll("g."+t).remove()}drawPolygon(t,e){let r={color:"red",vertexColor:"#FDBC07",vertexSize:5,close:!0,fixed:!0,class:"",...e},n=this.canvas.append("g").attr("class","polygon "+r.class);r.close?n.append("polygon").data([t]).style("fill",r.color):n.append("polyline").data([t]).style("fill","none").attr("stroke","#000");let a=n.selectAll("circle").data(t).join("circle").attr("r",r.vertexSize).attr("fill",r.vertexColor).attr("stroke","#000");return r.close&&!r.fixed?a.style("cursor","move").call(this.pointDragger):r.close||a.attr("is-handle",!0).style("cursor","pointer"),this.applyTransform(),n}drawLines(t,e="#FDBC07"){this.removeShape("lines");let r=this.canvas.append("g").attr("class","lines");return r.selectAll("line").data(t).join("line").attr("x1",t=>t[0][0]).attr("y1",t=>t[0][1]).attr("x2",t=>t[1][0]).attr("y2",t=>t[1][1]).attr("stroke",e).attr("stroke-width",1),this.applyTransform(),r}},c=[];s()(()=>{s()("#move-btn").on("click",()=>{s()("#move-btn").addClass("active"),s()("#polygon-btn").removeClass("active"),s()("#path-btn").removeClass("active"),l.setMode("move")}),document.getElementById("polygon-btn").addEventListener("hidden.bs.dropdown",()=>{switch(s()("#move-btn").removeClass("active"),s()("#polygon-btn").addClass("active"),s()("#path-btn").removeClass("active"),s()("#path-btn").addClass("disabled"),s()("#polygon-btn").attr("mode")){case"draw":l.setMode("draw");break;case"random":l.setMode("fixed"),c=n.e(),console.log(c),l.drawPolygon(c,{color:i(),vertexSize:3,class:"fixed"}),l.autoScale(c),s()("#path-btn").removeClass("disabled");break;case"load":l.setMode("fixed")}}),s()("#path-btn").on("click",()=>{s()("#move-btn").removeClass("active"),s()("#polygon-btn").removeClass("active"),s()("#path-btn").addClass("active");let t=n.f(c,"mono_partition");console.log(t),l.drawLines(t.map(t=>[c[t[0]],c[t[1]]]));let e=n.d(c,[91,104],[119,119],"mono_partition");console.log(e)}),s()("#draw-btn").on("click",()=>{s()("#polygon-btn").attr("mode","draw").text("Draw")}),s()("#random-btn").on("click",()=>{s()("#polygon-btn").attr("mode","random").text("Random")}),s()("#load-btn").on("click",()=>{s()("#polygon-btn").attr("mode","load").text("Load from...")})})},10:function(t,e,r){"use strict";(function(t){r.d(e,"e",(function(){return y})),r.d(e,"f",(function(){return S})),r.d(e,"d",(function(){return T})),r.d(e,"a",(function(){return k})),r.d(e,"c",(function(){return C})),r.d(e,"b",(function(){return M}));var n=r(95);const a=new Array(32).fill(void 0);function s(t){return a[t]}a.push(void 0,null,!0,!1);let o=0,i=null;function l(){return null!==i&&i.buffer===n.f.buffer||(i=new Uint8Array(n.f.buffer)),i}let c=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const h="function"==typeof c.encodeInto?function(t,e){return c.encodeInto(t,e)}:function(t,e){const r=c.encode(t);return e.set(r),{read:t.length,written:r.length}};function d(t,e,r){if(void 0===r){const r=c.encode(t),n=e(r.length);return l().subarray(n,n+r.length).set(r),o=r.length,n}let n=t.length,a=e(n);const s=l();let i=0;for(;i<n;i++){const e=t.charCodeAt(i);if(e>127)break;s[a+i]=e}if(i!==n){0!==i&&(t=t.slice(i)),a=r(a,n,n=i+3*t.length);const e=l().subarray(a+i,a+n);i+=h(t,e).written}return o=i,a}let u=null;function f(){return null!==u&&u.buffer===n.f.buffer||(u=new Int32Array(n.f.buffer)),u}let p=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function m(t,e){return p.decode(l().subarray(t,t+e))}p.decode();let v=a.length;function g(t){const e=s(t);return function(t){t<36||(a[t]=v,v=t)}(t),e}function y(){return g(n.d())}let w=32;function b(t){if(1==w)throw new Error("out of js stack");return a[--w]=t,w}function x(t){return null==t}function S(t,e){try{var r=x(e)?0:d(e,n.a,n.b),s=o;return g(n.g(b(t),r,s))}finally{a[w++]=void 0}}function T(t,e,r,s){try{var i=x(s)?0:d(s,n.a,n.b),l=o;return g(n.c(b(t),b(e),b(r),i,l))}finally{a[w++]=void 0,a[w++]=void 0,a[w++]=void 0}}const k=function(t,e){alert(m(t,e))},C=function(t,e){const r=s(e);var a=d(JSON.stringify(void 0===r?null:r),n.a,n.b),i=o;f()[t/4+1]=i,f()[t/4+0]=a},M=function(t,e){return function(t){v===a.length&&a.push(a.length+1);const e=v;return v=a[e],a[e]=t,e}(JSON.parse(m(t,e)))}}).call(this,r(94)(t))},95:function(t,e,r){"use strict";var n=r.w[t.i];t.exports=n;r(10);n.h()}}]);