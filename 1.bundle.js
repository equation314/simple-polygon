(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1:function(t,e,r){"use strict";r.r(e);var n=r(10),a=r(20),o=r.n(a),s=r(96);function l(){let t,e,r;for(;t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),r=Math.floor(256*Math.random()),!(t+e+r<672););return`rgba(${t},${e},${r},0.5)`}var i=new class{constructor(){let t,e=s.g("body").append("svg"),r=o()("svg").width(),n=o()("svg").height(),a=e.append("g"),i=e.append("g"),c=e.append("g"),d=e.append("g"),h=s.f().domain([0,r]).range([0,r]).nice(),u=s.f().domain([0,n]).range([n,0]).nice(),f=(t,e)=>t.attr("transform",`translate(0,${n})`).call(s.b(e).ticks(12)).call(t=>t.select(".domain").attr("display","none")),p=(t,e)=>t.attr("transform","translate(0,0)").call(s.a(e).ticks(12*n/r)).call(t=>t.select(".domain").attr("display","none")),v=(t,e,a)=>t.attr("stroke","currentColor").attr("stroke-opacity",.1).call(t=>t.selectAll(".x").data(e.ticks(12)).join(t=>t.append("line").attr("class","x").attr("y2",n),t=>t,t=>t.remove()).attr("x1",t=>e(t)).attr("x2",t=>e(t))).call(t=>t.selectAll(".y").data(a.ticks(12*n/r)).join(t=>t.append("line").attr("class","y").attr("x2",r),t=>t,t=>t.remove()).attr("y1",t=>a(t)).attr("y2",t=>a(t))),m=!1,g=!1,y=[],b=(t,e)=>{if(g||"fixed"==this.mode)return;m=!0;let r=this.invertTransX(),n=this.invertTransY(),a=[r(e.x),n(e.y)];s.g(t).data([a]);let o=s.g(t.parentNode).selectAll("circle").data();s.g(t.parentNode).select("polygon").data([o]),this.applyTransform()};this.zoom=s.h().scaleExtent([.2,50]).on("zoom",({transform:t})=>{this.currentTransform=t,this.applyTransform();let e=t.rescaleX(h),r=t.rescaleY(u);c.call(f,e),d.call(p,r),a.call(v,e,r)}),this.pointDragger=s.c().on("drag",(function(t){b(this,t)})).on("end",()=>m=!1),e.on("mouseup",r=>{if(m||this.drawn||"draw"!=this.mode)return;g=!0;let n=this.invertTransX(),a=this.invertTransY(),o=s.e(r),i=[n(o[0]),a(o[1])];if(t=i,r.target.hasAttribute("is-handle")){if(y.length<=2)return;this.canvas.select("g.drawing").remove(),this.drawPolygon(y,{color:l(),vertexColor:"#FDBC07",fixed:!1}),y=[],g=!1,this.drawn=!0}else{y.push(i),e.select("g.drawing").remove(),this.drawPolygon(y,{vertexColor:"yellow",close:!1}).attr("class","drawing")}}),e.on("mousemove",e=>{if(!g||"draw"!=this.mode)return;let r=this.transX(),n=this.transY(),a=this.invertTransX(),o=this.invertTransY(),l=s.e(e),i=[a(l[0]),o(l[1])],c=this.canvas.select("g.drawing");c.select("line").remove(),c.insert("line",":first-child").attr("x1",r(t[0])).attr("y1",n(t[1])).attr("x2",r(i[0])).attr("y2",n(i[1])).attr("stroke","#53DBF3").attr("stroke-width",1)}),e.call(this.zoom),this.drawn=!1,this.mode="move",this.width=r,this.height=n,this.svg=e,this.canvas=i,this.currentTransform=s.i,this.xScale=h,this.yScale=u,this.autoScale([])}setMode(t){switch(t){case"move":this.mode=t,this.svg.call(this.zoom);break;case"draw":this.mode=t,this.drawn=!1,this.svg.on(".zoom",null);break;case"fixed":this.mode=t,this.svg.on(".zoom",null)}}transX(){return this.currentTransform.rescaleX(this.xScale)}transY(){return this.currentTransform.rescaleY(this.yScale)}invertTransX(){return this.currentTransform.rescaleX(this.xScale).invert}invertTransY(){return this.currentTransform.rescaleY(this.yScale).invert}applyTransform(){let t=this.transX(),e=this.transY();this.canvas.selectAll("circle").attr("cx",e=>t(e[0])).attr("cy",t=>e(t[1])),this.canvas.selectAll("line").attr("x1",e=>t(e[0][0])).attr("y1",t=>e(t[0][1])).attr("x2",e=>t(e[1][0])).attr("y2",t=>e(t[1][1])),this.canvas.selectAll("polygon").attr("points",r=>r.map(r=>[t(r[0]),e(r[1])])),this.canvas.selectAll("polyline").attr("points",r=>r.map(r=>[t(r[0]),e(r[1])]))}autoScale(t){let[e,r]=s.d(t,t=>t[0]),[n,a]=s.d(t,t=>t[1]);t.length||(e=r=n=a=0);let o=.8*Math.min(Math.abs(this.width/(this.xScale(r-e+1)-this.xScale(0))),Math.abs(this.height/(this.yScale(a-n+1)-this.yScale(0))));o=Math.min(Math.max(o,.2),50);let l=(this.width-(this.xScale(e)+this.xScale(r))*o)/2,i=(this.height-(this.yScale(a)+this.yScale(n))*o)/2;this.currentTransform=s.i.translate(l,i).scale(o),this.svg.call(this.zoom.transform,this.currentTransform)}removeAllShapes(){this.removeShape("polygon"),this.removeShape("lines")}removeShape(t){this.canvas.selectAll("g."+t).remove()}drawPolygon(t,e){let r={color:"red",vertexColor:"#FDBC07",vertexSize:5,close:!0,fixed:!0,...e},n=this.canvas.append("g").attr("class","polygon");r.close?n.append("polygon").data([t]).style("fill",r.color):n.append("polyline").data([t]).style("fill","none").attr("stroke","#000");let a=n.selectAll("circle").data(t).join("circle").attr("r",r.vertexSize).attr("fill",r.vertexColor).attr("stroke","#000");return r.close&&!r.fixed?a.style("cursor","move").call(this.pointDragger):r.close||a.attr("is-handle",!0).style("cursor","pointer"),this.applyTransform(),n}drawLines(t,e="#FDBC07"){this.removeShape("lines");let r=this.canvas.append("g").attr("class","lines");return r.selectAll("line").data(t).join("line").attr("x1",t=>t[0][0]).attr("y1",t=>t[0][1]).attr("x2",t=>t[1][0]).attr("y2",t=>t[1][1]).attr("stroke",e).attr("stroke-width",1),this.applyTransform(),r}},c=[];o()(()=>{o()("#move-btn").on("click",()=>{o()("#move-btn").addClass("active"),o()("#polygon-btn").removeClass("active"),o()("#path-btn").removeClass("active"),i.setMode("move")}),document.getElementById("polygon-btn").addEventListener("hidden.bs.dropdown",()=>{switch(o()("#move-btn").removeClass("active"),o()("#polygon-btn").addClass("active"),o()("#path-btn").removeClass("active"),o()("#path-btn").addClass("disabled"),o()("#polygon-btn").attr("mode")){case"draw":i.setMode("draw"),i.removeAllShapes();break;case"random":i.setMode("fixed"),c=n.e(),console.log(c),i.removeAllShapes(),i.drawPolygon(c,{color:l(),vertexSize:3}),i.autoScale(c),o()("#path-btn").removeClass("disabled");break;case"load":i.setMode("fixed")}}),o()("#path-btn").on("click",()=>{o()("#move-btn").removeClass("active"),o()("#polygon-btn").removeClass("active"),o()("#path-btn").addClass("active");let t=n.f(c,"mono_partition");console.log(t),i.drawLines(t.map(t=>[c[t[0]],c[t[1]]]));let e=n.d(c,[91,104],[119,119],"mono_partition");console.log(e)}),o()("#draw-btn").on("click",()=>{o()("#polygon-btn").attr("mode","draw").text("Draw")}),o()("#random-btn").on("click",()=>{o()("#polygon-btn").attr("mode","random").text("Random")}),o()("#load-btn").on("click",()=>{o()("#polygon-btn").attr("mode","load").text("Load from...")})})},10:function(t,e,r){"use strict";(function(t){r.d(e,"e",(function(){return y})),r.d(e,"f",(function(){return S})),r.d(e,"d",(function(){return T})),r.d(e,"a",(function(){return k})),r.d(e,"c",(function(){return C})),r.d(e,"b",(function(){return A}));var n=r(95);const a=new Array(32).fill(void 0);function o(t){return a[t]}a.push(void 0,null,!0,!1);let s=0,l=null;function i(){return null!==l&&l.buffer===n.f.buffer||(l=new Uint8Array(n.f.buffer)),l}let c=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const d="function"==typeof c.encodeInto?function(t,e){return c.encodeInto(t,e)}:function(t,e){const r=c.encode(t);return e.set(r),{read:t.length,written:r.length}};function h(t,e,r){if(void 0===r){const r=c.encode(t),n=e(r.length);return i().subarray(n,n+r.length).set(r),s=r.length,n}let n=t.length,a=e(n);const o=i();let l=0;for(;l<n;l++){const e=t.charCodeAt(l);if(e>127)break;o[a+l]=e}if(l!==n){0!==l&&(t=t.slice(l)),a=r(a,n,n=l+3*t.length);const e=i().subarray(a+l,a+n);l+=d(t,e).written}return s=l,a}let u=null;function f(){return null!==u&&u.buffer===n.f.buffer||(u=new Int32Array(n.f.buffer)),u}let p=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function v(t,e){return p.decode(i().subarray(t,t+e))}p.decode();let m=a.length;function g(t){const e=o(t);return function(t){t<36||(a[t]=m,m=t)}(t),e}function y(){return g(n.d())}let b=32;function w(t){if(1==b)throw new Error("out of js stack");return a[--b]=t,b}function x(t){return null==t}function S(t,e){try{var r=x(e)?0:h(e,n.a,n.b),o=s;return g(n.g(w(t),r,o))}finally{a[b++]=void 0}}function T(t,e,r,o){try{var l=x(o)?0:h(o,n.a,n.b),i=s;return g(n.c(w(t),w(e),w(r),l,i))}finally{a[b++]=void 0,a[b++]=void 0,a[b++]=void 0}}const k=function(t,e){alert(v(t,e))},C=function(t,e){const r=o(e);var a=h(JSON.stringify(void 0===r?null:r),n.a,n.b),l=s;f()[t/4+1]=l,f()[t/4+0]=a},A=function(t,e){return function(t){m===a.length&&a.push(a.length+1);const e=m;return m=a[e],a[e]=t,e}(JSON.parse(v(t,e)))}}).call(this,r(94)(t))},95:function(t,e,r){"use strict";var n=r.w[t.i];t.exports=n;r(10);n.h()}}]);